document.addEventListener("DOMContentLoaded",()=>{if(document.querySelector(".header")){let r=document.querySelector(".wrapper"),e=document.querySelector(".header");function t(e){var t=e.clientHeight;0<Number(window.scrollY.toFixed())?(r.style.paddingTop=t+"px",e.classList.add("_fixed")):(r.style.paddingTop=t+"px",e.classList.remove("_fixed"))}t(e),window.addEventListener("scroll",()=>{t(e)})}if(document.querySelector(".burger-btn")){document.querySelector(".header").addEventListener("click",e=>{e.stopPropagation});var e=document.querySelector(".burger-btn");let t=document.querySelector(".burger-menu"),r=document.querySelector(".burger-icon");function o(){t.classList.remove("burger-menu--open"),r.classList.remove("burger-icon--active"),document.body.classList.remove("no-scroll")}e.addEventListener("click",e=>{e.stopPropagation,t.classList.toggle("burger-menu--open"),r.classList.toggle("burger-icon--active"),document.body.classList.toggle("no-scroll")}),window.addEventListener("resize",()=>{1200<window.innerWidth&&o()}),window.addEventListener("click",e=>{e.stopPropagation,!t.classList.contains("burger-menu--open")||e.target.classList.contains("burger-btn")||e.target.classList.contains("burger-menu")||null!==e.target.closest(".header")||o()})}if(document.querySelector("[data-js-modal-open]")){var e=document.querySelectorAll("[data-js-modal-open]"),n=document.querySelectorAll("[data-js-modal-close]");let t=document.querySelector("[data-js-modal-overlay]"),r=document.querySelectorAll(".modal");e.forEach(e=>{e.addEventListener("click",e=>{e=e.currentTarget.getAttribute("data-path");r.forEach(e=>{e.classList.remove("modal--visible")}),document.querySelector(`[data-target="${e}"]`).classList.add("modal--visible"),t.classList.add("modal-overlay--visible"),document.body.classList.add("no-scroll")})}),n.forEach(e=>{e.addEventListener("click",e=>{e.currentTarget.getAttribute("data-path");r.forEach(e=>{e.classList.remove("modal--visible"),t.classList.remove("modal-overlay--visible"),document.body.classList.remove("no-scroll")})})}),t.addEventListener("click",e=>{e.target==t&&(t.classList.remove("modal-overlay--visible"),r.forEach(e=>{e.classList.remove("modal--visible"),document.body.classList.remove("no-scroll")}))})}if(document.querySelector(".modal__cookie")&&"1"!==("; "+document.cookie).split("; COOKIE_ACCEPT=").pop().split(";")[0]&&document.getElementById("warning-plate")&&document.querySelector("#open-form-cookie").click(),document.querySelector(".swiper")){let t=(r,o,a,n)=>{let l;r=window.matchMedia(r);function e(){if(r.matches)return e=o,t=a,l=new Swiper(e,t),void(n&&n(l));var e,t;void 0!==l&&l.destroy(!0,!0)}r.addEventListener("change",e),e()},r=e=>{e&&e.on("slideChange",function(e){})};new Swiper(".cards__swiper",{a11y:!1,slidesPerView:1,spaceBetween:16,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{577:{slidesPerView:2,spaceBetween:18},992:{slidesPerView:3,spaceBetween:20}},keyboard:{enabled:!0}}),new Swiper(".place-card-slider__swiper",{a11y:!1,slidesPerView:1,spaceBetween:0,navigation:{nextEl:".place-card-swiper-btn-next",prevEl:".place-card-swiper-btn-prev"},keyboard:{enabled:!0}}),new Swiper(".cards-place__swiper",{a11y:!1,slidesPerView:1,spaceBetween:16,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{577:{slidesPerView:2,spaceBetween:20}},keyboard:{enabled:!0}}),document.querySelectorAll(".cards__image-swiper").forEach(e=>{t("(max-width: 991px)",e,{a11y:!1,slidesPerView:1,pagination:{el:".cards__image-swiper-pagination",type:"bullets",clickable:!0},nested:!0},r)}),new Swiper(".card__images-swiper",{a11y:!1,slidesPerView:1,spaceBetween:10,navigation:{nextEl:".card-swiper-btn-next",prevEl:".card-swiper-btn-prev"},pagination:{el:".card-swiper-pagination",type:"fraction"},keyboard:{enabled:!0}})}if(document.querySelector(".cards__item")&&document.querySelectorAll(".cards__item").forEach(e=>{let r=e;e.querySelectorAll(".swiper-slide").forEach((e,t)=>{e.setAttribute("data-js-hover",""+t)});e=r.querySelectorAll(".swiper-slide");let o=r.querySelector(".hover-pagination");1<e.length&&e.forEach((e,t)=>{e.setAttribute("data-index",t),o.innerHTML+=`<li class="hover-pagination__item ${0==t?"hover-pagination__item--active":""}" data-index="${t}"></li>`,e.addEventListener("mouseenter",e=>{r.querySelectorAll(".hover-pagination__item").forEach(e=>{e.classList.remove("hover-pagination__item--active")}),r.querySelector(`.hover-pagination__item[data-index="${e.currentTarget.dataset.index}"]`).classList.add("hover-pagination__item--active")}),e.addEventListener("mouseleave",e=>{r.querySelectorAll(".hover-pagination__item").forEach(e=>{e.classList.remove("hover-pagination__item--active")}),r.querySelector('.hover-pagination__item[data-index="0"]').classList.add("hover-pagination__item--active")})})}),document.querySelector(".form")){let r=document.querySelector("#open-form-success"),o=document.querySelector("#open-form-failed");function a(e){e.classList.add("_error")}document.querySelectorAll(".form").forEach(t=>{t.addEventListener("submit",function(e){e.preventDefault();0===(e=>{let t=0,r=e.querySelectorAll("._req");for(let e=0;e<r.length;e++){var o=r[e];o.classList.remove("_error"),o.classList.contains("_phone")?(e=>10===e.inputmask.unmaskedvalue().length&&/^\d+$/.test(e.inputmask.unmaskedvalue()))(o)||(a(o),t++):""===o.value&&(a(o),t++)}return t})(t)?(r.click(),this.reset()):o.click()})}),document.querySelectorAll(".input-reset")&&document.querySelectorAll(".input-reset").forEach(t=>{t.addEventListener("click",e=>{e.preventDefault,t.previousElementSibling.value="",t.previousElementSibling.focus()})})}if(document.querySelector("img[data-src],source[data-srcset]")){let t=document.querySelectorAll("img[data-src],source[data-srcset]"),r=document.documentElement.clientHeight,o=[];function l(){var e=o.findIndex(e=>pageYOffset>e-r);0<=e&&(t[e].dataset.src?(t[e].src=t[e].dataset.src,t[e].removeAttribute("data-src")):t[e].dataset.srcset&&(t[e].srcset=t[e].dataset.srcset,t[e].removeAttribute("data-srcset")),delete o[e])}0<t.length&&t.forEach(e=>{(e.dataset.src||e.dataset.srcset)&&(o.push(e.getBoundingClientRect().top+pageYOffset),l())}),window.addEventListener("scroll",function(){0<document.querySelectorAll("img[data-src],source[data-srcset]").length&&l()})}if(document.querySelector(".accardion")){let r=document.querySelectorAll(".accardion-body");document.querySelectorAll(".accardion-head").forEach(t=>{t.addEventListener("click",()=>{var e=t.nextElementSibling;e.style.maxHeight?(r.forEach(e=>e.style.maxHeight=null),r.forEach(e=>e.closest(".accardion-item").classList.remove("accardion-show"))):(r.forEach(e=>e.style.maxHeight=null),r.forEach(e=>e.closest(".accardion-item").classList.remove("accardion-show")),e.style.maxHeight=e.scrollHeight+"px",t.closest(".accardion-item").classList.add("accardion-show"))})})}if(document.querySelector(".map")){if(document.querySelector("#contacts-map")){let r=[55.869076,37.443623];function c(){var e=new ymaps.Map("contacts-map",{center:r,zoom:13}),t=new ymaps.Placemark(r,{},{iconLayout:"default#image",iconImageHref:"./images/icon/marker.svg",iconImageSize:[56,56],iconImageOffset:[-26,-56]});e.controls.remove("geolocationControl"),e.controls.remove("searchControl"),e.controls.remove("trafficControl"),e.controls.remove("typeSelector"),e.controls.remove("fullscreenControl"),e.controls.remove("rulerControl"),e.behaviors.disable(["scrollZoom"]),e.geoObjects.add(t)}ymaps.ready(c)}if(document.querySelector("#card-map")){let r=[55.869076,37.443623];function c(){var e=new ymaps.Map("card-map",{center:r,zoom:13}),t=new ymaps.Placemark(r,{},{iconLayout:"default#image",iconImageHref:"./images/icon/marker.svg",iconImageSize:[56,56],iconImageOffset:[-26,-56]});e.controls.remove("geolocationControl"),e.controls.remove("searchControl"),e.controls.remove("trafficControl"),e.controls.remove("typeSelector"),e.controls.remove("fullscreenControl"),e.controls.remove("rulerControl"),e.behaviors.disable(["scrollZoom"]),e.geoObjects.add(t)}ymaps.ready(c)}if(document.querySelector("#offices-map")){let a={moscow:[{lat:55.749633,lon:37.537434,name:"«Федерация», офис 4312"}],krasnogorsk:[{lat:55.820369,lon:37.319484,name:"krasnogorsk"}],dolgoprudny:[{lat:55.933322,lon:37.514075,name:"dolgoprudny"}],ruza:[{lat:55.703699,lon:36.192233,name:"ruza"}]},e=()=>{let r=new ymaps.Map("offices-map",{center:[55.749633,37.537434],zoom:14}),t="moscow",o=e=>{r.geoObjects.removeAll(),a[e].forEach(e=>{var t=new ymaps.Placemark([e.lat,e.lon],{},{iconLayout:"default#image",iconImageHref:"./images/icon/marker.svg",iconImageSize:[64,64],iconImageOffset:[-32,-64]});r.geoObjects.add(t),r.setCenter([e.lat,e.lon])}),t=e};document.querySelectorAll(".offices-btn").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault;e=e.currentTarget.dataset.category;o(e)})}),o(t),r.events.add("click",function(){r.behaviors.enable("scrollZoom")}),r.controls.remove("geolocationControl"),r.controls.remove("searchControl"),r.controls.remove("trafficControl"),r.controls.remove("typeSelector"),r.controls.remove("fullscreenControl"),r.controls.remove("rulerControl"),r.behaviors.disable(["scrollZoom"])};ymaps.ready(e)}}if(document.querySelector(".input-number-box")&&(document.querySelectorAll(".input-number-box").forEach(r=>{r.querySelectorAll(".input-number__btn").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault;e=r.querySelector(".input-number");let t=Number(e.value);this.classList.contains("plus")&&(t+=1),this.classList.contains("minus")&&0<t&&(t-=1),e.value=t})})}),document.querySelectorAll(".input-number").forEach(e=>{Inputmask("currency",{placeholder:"0",radixPoint:".",rightAlign:!1,showMaskOnHover:!1,groupSeparator:""}).mask(e)})),document.querySelector('input[type="tel"]')&&(e=document.querySelectorAll('input[type="tel"]'),new Inputmask("+7 (999) 999 99 99",{placeholder:"−"}).mask(e)),document.querySelector(".filter-dropdown")){n=document.querySelectorAll(".filter-dropdown");let a=document.querySelector(".filter-dropdown-values"),e=(n.forEach(e=>{let t=e.querySelector(".filter-dropdown-btn");e.querySelector(".filter-dropdown-list");e=e.querySelectorAll(".filter-dropdown-item");t.addEventListener("click",e=>{e.target.parentElement.classList.contains("_active")?t.parentElement.classList.remove("_active"):(document.querySelectorAll(".filter-dropdown-btn").forEach(e=>{e.parentElement.classList.remove("_active")}),t.parentElement.classList.add("_active"))}),document.body.addEventListener("click",e=>{e.target.closest(".filter-dropdown")||t.parentElement.classList.remove("_active")}),e.forEach(e=>{e.addEventListener("click",()=>{e.classList.toggle("_active"),a.innerHTML="",(()=>{var t=document.querySelectorAll(".filter-dropdown-item._active");for(let e=0;e<t.length;e++){var r=[],o=t[e].dataset.jsFilterDropdownValue;r.push(o),r.forEach(function(e){var t=document.createElement("span");t.classList.add("filter-values-item"),t.setAttribute("data-js-filter-dropdown-values-item",""),t.textContent=e,a.appendChild(t)})}})()})})}),a.addEventListener("click",e=>{e.target.hasAttribute("data-js-filter-dropdown-values-item")&&document.querySelector(`[data-js-filter-dropdown-value="${e.target.textContent}"]`).click()}),document.querySelectorAll(".filter-dropdown-list")),t=()=>{e.forEach(e=>{var t=e.getBoundingClientRect();t.left<0?(e.classList.remove("_right"),e.classList.add("_left")):t.right>window.innerWidth&&(e.classList.remove("_left"),e.classList.add("_right"))})};t(),window.addEventListener("resize",()=>{t()})}if(document.querySelector(".filter-range-price")){let t=document.querySelector("[data-js-filter-price]"),e=document.querySelector("[data-js-filter-price-input]"),r=document.querySelector("[data-js-filter-price-value]"),o=document.querySelector("[data-js-filter-price-tag]"),a=document.querySelector("[data-js-filter-price-tag-value]");t.addEventListener("click",()=>{t.parentElement.classList.add("_active"),r.focus()}),e.addEventListener("input",()=>{r.value=e.value,a.textContent=e.value,o.classList.remove("visually-hidden")}),r.addEventListener("input",()=>{e.value=r.value,a.textContent=r.value,o.classList.remove("visually-hidden"),""===r.value&&(e.value=0,a.textContent=0,o.classList.add("visually-hidden"))}),o.addEventListener("click",()=>{e.value=0,r.value=0,a.textContent=0,o.classList.add("visually-hidden"),t.parentElement.classList.remove("_active")}),document.body.addEventListener("click",e=>{e.target.closest(".filter-range-price")||t.parentElement.classList.remove("_active")})}if(document.querySelector(".filter-range-square")){let t=document.querySelector("[data-js-filter-square]"),e=document.querySelector("[data-js-filter-square-input]"),r=document.querySelector("[data-js-filter-square-value]"),o=document.querySelector("[data-js-filter-square-tag]"),a=document.querySelector("[data-js-filter-square-tag-value]");t.addEventListener("click",()=>{t.parentElement.classList.add("_active"),r.focus()}),e.addEventListener("input",()=>{r.value=e.value,a.textContent=e.value,o.classList.remove("visually-hidden")}),r.addEventListener("input",()=>{e.value=r.value,a.textContent=r.value,o.classList.remove("visually-hidden"),""===r.value&&(e.value=0,a.textContent=0,o.classList.add("visually-hidden"))}),o.addEventListener("click",()=>{e.value=0,r.value=0,a.textContent=0,o.classList.add("visually-hidden"),t.parentElement.classList.remove("_active")}),document.body.addEventListener("click",e=>{e.target.closest(".filter-range-square")||t.parentElement.classList.remove("_active")})}if(document.querySelector(".dropdown")&&(window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var r=0;r<this.length;r++)e.call(t,this[r],r,this)}),document.querySelectorAll(".dropdown").forEach(function(e){let t=e.querySelector(".dropdown__button"),r=e.querySelector(".dropdown__list");var o=r.querySelectorAll(".dropdown__list-item");let a=e.querySelector(".dropdown__input-hidden");t.addEventListener("click",function(e){r.classList.toggle("dropdown__list--visible"),this.classList.add("dropdown__button--active")}),o.forEach(function(e){e.addEventListener("click",function(e){e.stopPropagation(),t.innerText=this.innerText,t.focus(),a.value=this.dataset.value,r.classList.remove("dropdown__list--visible")})}),document.addEventListener("click",function(e){e.target!==t&&(t.classList.remove("dropdown__button--active"),r.classList.remove("dropdown__list--visible"))}),document.addEventListener("keydown",function(e){"Tab"!==e.key&&"Escape"!==e.key||(t.classList.remove("dropdown__button--active"),r.classList.remove("dropdown__list--visible"))})})),document.querySelector("[data-js-tab]")&&document.querySelectorAll("[data-js-tab]").forEach(e=>{let t=e.querySelectorAll("[data-js-tab-btn]"),n=e.querySelectorAll("[data-js-tab-item]");t.forEach(e=>{var r,o,a;r=e,o=t,a=n,r.addEventListener("click",function(e){e.preventDefault();var e=r,t=e.getAttribute("data-js-tab-path"),t=document.querySelectorAll(`[data-js-tab-path="${t}"]`);e.hasAttribute("data-js-tab-active")||(o.forEach(e=>e.removeAttribute("data-js-tab-active")),e.setAttribute("data-js-tab-active",""),a.forEach(e=>e.removeAttribute("data-js-tab-active")),t.forEach(e=>e.setAttribute("data-js-tab-active","")))})})}),document.querySelector(".news-card__shared")){let e=document.querySelector(".news-card__shared");document.querySelector("[data-js-news-share-btn]").addEventListener("click",()=>{e.classList.add("_copied"),setTimeout(()=>{e.classList.remove("_copied")},5e3)})}});